"use strict";(self["webpackChunkvideosweb"]=self["webpackChunkvideosweb"]||[]).push([[458],{5458:function(e,t,i){i.r(t),i.d(t,{default:function(){return C}});var a=i(6768),o=i(4232);const s={style:{width:"100%"}},r={key:0},l={class:"category-title"},n={class:"horizontal-scroll-container"},c={class:"text-grey text-truncate"},u={class:"category-title"},d={class:"horizontal-scroll-container"},m={class:"text-grey text-truncate"};function g(e,t,i,g,v,p){const h=(0,a.g2)("CarouselPage"),f=(0,a.g2)("v-icon"),y=(0,a.g2)("v-col"),_=(0,a.g2)("router-link"),b=(0,a.g2)("v-row"),k=(0,a.g2)("v-img"),w=(0,a.g2)("v-card-subtitle"),F=(0,a.g2)("v-card-title"),P=(0,a.g2)("v-card-text"),L=(0,a.g2)("v-card"),M=(0,a.g2)("v-skeleton-loader");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(h),v.historyMovies.length>0?((0,a.uX)(),(0,a.CE)("div",r,[(0,a.bF)(b,{class:"category-header",align:"center","no-gutters":""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{cols:"auto"},{default:(0,a.k6)((()=>[(0,a.Lk)("h2",l,[(0,a.bF)(f,{size:"20",color:"#ffcc00",class:"mr-1"},{default:(0,a.k6)((()=>t[0]||(t[0]=[(0,a.eW)("mdi-history")]))),_:1}),(0,a.eW)(" "+(0,o.v_)(e.$t("LỊCH SỬ ĐÃ XEM")),1)])])),_:1}),(0,a.bF)(y,{cols:"auto"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{to:{name:"HistoryPage"},class:"view-all"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("Xem tất cả"))+" >> ",1)])),_:1})])),_:1})])),_:1}),(0,a.Lk)("div",n,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.historyMovies.slice(0,12),((e,i)=>{var s;return(0,a.uX)(),(0,a.CE)("div",{key:e.slug||i,class:"movie-item-wrapper"},[(0,a.bF)(_,{to:{name:"MovieDetail",params:{slug:e.slug},query:{tap:null===(s=e.episode)||void 0===s?void 0:s.slug}}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{class:"mx-auto bg-dark text-white","max-width":"344"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{src:p.getOptimizedImage(e.poster_url),alt:`Poster phim ${e.name}`,class:"movie-img",height:"250",cover:""},null,8,["src","alt"]),(0,a.bF)(w,{class:"episode-lang"},{default:(0,a.k6)((()=>{var t;return[(0,a.eW)(" Tập: "+(0,o.v_)((null===(t=e.episode)||void 0===t?void 0:t.name)||"N/A"),1)]})),_:2},1024),(0,a.bF)(F,{class:"movie-title"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.name),1)])),_:2},1024),(0,a.bF)(P,{class:"movie-info"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",c,[(0,a.bF)(f,{size:"14",class:"mr-1",color:"grey"},{default:(0,a.k6)((()=>t[1]||(t[1]=[(0,a.eW)("mdi-tag")]))),_:1}),(0,a.eW)(" "+(0,o.v_)(e.origin_name)+" ("+(0,o.v_)(e.year)+") ",1)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"])])})),128))])])):(0,a.Q3)("",!0),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.sections,((i,s)=>((0,a.uX)(),(0,a.CE)("div",{key:s},[(0,a.bF)(b,{class:"category-header",align:"center","no-gutters":""},{default:(0,a.k6)((()=>[(0,a.bF)(y,{cols:"auto"},{default:(0,a.k6)((()=>[(0,a.Lk)("h2",u,[(0,a.bF)(f,{size:"20",color:"#ffcc00",class:"mr-1"},{default:(0,a.k6)((()=>t[2]||(t[2]=[(0,a.eW)("mdi-filmstrip")]))),_:1}),(0,a.eW)(" "+(0,o.v_)(i.title),1)])])),_:2},1024),(0,a.bF)(y,{cols:"auto"},{default:(0,a.k6)((()=>[(0,a.bF)(_,{to:"QuocGia"===i.name||"PhimNew"===i.name?{name:i.name,params:{path:i.id.split("/")[1]}}:{name:i.name},class:"view-all"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("Xem tất cả"))+" >> ",1)])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024),(0,a.Lk)("div",d,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(v.isLoading?Array(12).fill({}):i.listMovie.slice(0,12),((e,i)=>((0,a.uX)(),(0,a.CE)("div",{key:e.slug||i,class:"movie-item-wrapper"},[v.isLoading?((0,a.uX)(),(0,a.Wv)(M,{key:0,type:"image",height:"250"})):((0,a.uX)(),(0,a.Wv)(_,{key:1,to:{name:"MovieDetail",params:{slug:e.slug}}},{default:(0,a.k6)((()=>[(0,a.bF)(L,{class:"mx-auto bg-dark text-white","max-width":"344"},{default:(0,a.k6)((()=>[(0,a.bF)(k,{src:p.getOptimizedImage(e.poster_url),alt:`Poster phim ${e.name}`,class:"movie-img",height:"250",cover:""},null,8,["src","alt"]),(0,a.bF)(w,{class:"episode-lang"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)("Tập 0"===e.episode_current?`Full - ${e.lang}`:`${e.episode_current} - ${e.lang}`),1)])),_:2},1024),(0,a.bF)(F,{class:"movie-title"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.name),1)])),_:2},1024),(0,a.bF)(P,{class:"movie-info"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",m,[(0,a.bF)(f,{size:"14",class:"mr-1",color:"grey"},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("mdi-tag")]))),_:1}),(0,a.eW)(" "+(0,o.v_)(e.origin_name)+" ("+(0,o.v_)(e.year)+") ",1)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"]))])))),128))])])))),128))])}var v=i(1483);const p={class:"text-h4 white--text mb-2 text-shadow"},h={class:"info-row mb-1 white--text"},f={class:"short-desc white--text mb-4"};function y(e,t,i,s,r,l){const n=(0,a.g2)("v-btn"),c=(0,a.g2)("v-row"),u=(0,a.g2)("v-sheet"),d=(0,a.g2)("v-img"),m=(0,a.g2)("v-carousel-item"),g=(0,a.g2)("v-carousel"),v=(0,a.g2)("v-container");return(0,a.uX)(),(0,a.Wv)(v,{fluid:"",class:"pa-0"},{default:(0,a.k6)((()=>[r.videoList.length?((0,a.uX)(),(0,a.Wv)(g,{key:0,height:"550","hide-delimiters":"false","delimiter-icon":"mdi-circle","delimiter-size":"10","delimiter-color":"rgba(255, 255, 255, 0.6)","show-arrows":"hover",cycle:"",interval:"9000",class:"custom-carousel responsive-carousel"},{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.videoList,(i=>((0,a.uX)(),(0,a.Wv)(m,{key:i._id},{default:(0,a.k6)((()=>[(0,a.bF)(d,{src:r.pathImage+i.poster_url,cover:"",height:"100%",class:"carousel-image"},{default:(0,a.k6)((()=>[(0,a.bF)(u,{class:"overlay-info px-8 pb-8"},{default:(0,a.k6)((()=>[(0,a.Lk)("h2",p,(0,o.v_)(i.name),1),(0,a.Lk)("div",h,[(0,a.Lk)("strong",null,(0,o.v_)(e.$t("Năm"))+":",1),(0,a.eW)(" "+(0,o.v_)(i.year)+" ",1),t[0]||(t[0]=(0,a.Lk)("span",{class:"divider"},"|",-1)),(0,a.Lk)("strong",null,(0,o.v_)(e.$t("Thể loại"))+":",1),(0,a.eW)(" "+(0,o.v_)(i.category.map((e=>e.name)).join(", "))+" ",1),t[1]||(t[1]=(0,a.Lk)("span",{class:"divider"},"|",-1)),(0,a.Lk)("strong",null,(0,o.v_)(e.$t("Đánh giá"))+":",1),(0,a.eW)(" "+(0,o.v_)(i.rating||"Chưa có")+" ",1),t[2]||(t[2]=(0,a.Lk)("span",{class:"divider"},"|",-1)),(0,a.Lk)("strong",null,(0,o.v_)(e.$t("Thời lượng"))+":",1),(0,a.eW)(" "+(0,o.v_)(i.time||"N/A"),1)]),(0,a.Lk)("p",f,(0,o.v_)(i.origin_name||e.$t("Không có mô tả.")),1),(0,a.bF)(c,{justify:"center"},{default:(0,a.k6)((()=>[(0,a.bF)(n,{color:"red accent-4",variant:"flat",class:"watch-now-btn",onClick:e=>l.goToDetail(i.slug),elevation:"2"},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("Xem ngay")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["src"])])),_:2},1024)))),128))])),_:1})):(0,a.Q3)("",!0)])),_:1})}function _(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_(Object(i),!0).forEach((function(t){k(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function k(e,t,i){return(t=w(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function w(e){var t=F(e,"string");return"symbol"==typeof t?t:t+""}function F(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var P={name:"CarouselPage",data(){return{pathImage:"https://img.ophim.live/uploads/movies/",videoList:[],path:"phim-moi-cap-nhat"}},created(){this.ListMovie()},methods:{ListMovie(){(0,v.DB)(`${this.path}?page=1`,(e=>{"success"===e.status&&(this.videoList=e.data.items.slice(1,6).map((e=>b(b({},e),{},{rating:e.rating||null,duration:e.duration||null,short_description:e.short_description||null}))))}),(e=>{console.error(e)}))},goToDetail(e){this.$router.push({name:"MovieDetail",params:{slug:e}})}}},L=i(1241);const M=(0,L.A)(P,[["render",y],["__scopeId","data-v-aff95458"]]);var $=M,W={name:"HomePage",data(){return{urlImage:v.l1,isLoading:!0,historyMovies:[],sections:[{title:this.$t("PHIM THỊNH HÀNH"),id:"danh-sach/thinh-hanh",name:"PhimNew",listMovie:[],content:""},{title:this.$t("PHIM ĐỀ CỬ"),id:"danh-sach/phim-moi-cap-nhat?page=2",name:"PhimNew",listMovie:[],content:""},{title:this.$t("PHIM BỘ"),id:"danh-sach/phim-bo",name:"PhimBo",listMovie:[],content:""},{title:this.$t("PHIM LẺ"),id:"danh-sach/phim-le",name:"PhimLe",listMovie:[],content:""},{title:this.$t("PHIM HÀN QUỐC"),id:"quoc-gia/han-quoc",name:"QuocGia",listMovie:[],content:""},{title:this.$t("PHIM TRUNG QUỐC"),id:"quoc-gia/trung-quoc",name:"QuocGia",listMovie:[],content:""}]}},components:{CarouselPage:$},mounted(){this.loadHistory(),this.sections.forEach((e=>{this.ListMovie(e.id,e)}))},methods:{loadHistory(){const e=JSON.parse(localStorage.getItem("watchHistory")||"[]");this.historyMovies=e.slice(0,12).sort(((e,t)=>t.timestamp-e.timestamp))},ListMovie(e,t){(0,v.mf)(e,(e=>{"success"===e.status&&(t.listMovie=e.data.items,e.data.seoOnPage&&this.updateMetaTags(e.data.seoOnPage),this.isLoading=!1)}),(e=>{console.error(e)}))},getOptimizedImage(e){return e&&e.startsWith("https://")?e:e?`${this.urlImage}${encodeURIComponent(e)}&w=384&q=100`:"/placeholder.jpg"},updateMetaTags(e){document.title=e.titleHead||"Phim hay";const t=(e,t="name")=>{const i=document.querySelectorAll(`meta[${t}="${e}"]`);i.forEach((e=>e.remove()))},i=(e,t,i="name")=>{if(!t)return;const a=document.createElement("meta");a.setAttribute(i,e),a.setAttribute("content",t),document.head.appendChild(a)};t("description"),t("og:title","property"),t("og:description","property"),t("og:type","property"),t("og:image","property"),i("description",e.descriptionHead),i("og:title",e.titleHead,"property"),i("og:description",e.descriptionHead,"property"),i("og:type",e.og_type||"website","property"),Array.isArray(e.og_image)&&e.og_image.forEach((e=>{i("og:image",e,"property")}))}}};const O=(0,L.A)(W,[["render",g],["__scopeId","data-v-dda7cfca"]]);var C=O}}]);
//# sourceMappingURL=458.0ad9a9b0.js.map