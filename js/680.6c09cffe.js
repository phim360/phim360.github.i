"use strict";(self["webpackChunkvideosweb"]=self["webpackChunkvideosweb"]||[]).push([[680],{6680:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var o=a(6768),r=a(4232);const i={class:"text-center"},l={class:"text-left"},s={class:"genre-section mb-3"},n={class:"meta-info mb-2 d-flex align-center flex-wrap"},c={class:"me-4"},d={class:"text-body-2 description-text"},u={class:"action-buttons mt-4"};function m(e,t,a,m,g,v){const p=(0,o.g2)("v-divider"),h=(0,o.g2)("v-col"),k=(0,o.g2)("v-row"),y=(0,o.g2)("v-progress-circular"),f=(0,o.g2)("v-btn"),_=(0,o.g2)("router-link"),b=(0,o.g2)("v-alert"),F=(0,o.g2)("v-img"),$=(0,o.g2)("v-chip"),w=(0,o.g2)("v-rating"),P=(0,o.g2)("v-icon"),W=(0,o.g2)("v-card"),M=(0,o.g2)("v-pagination"),x=(0,o.g2)("v-container");return(0,o.uX)(),(0,o.Wv)(x,{class:"search-page",fluid:""},{default:(0,o.k6)((()=>[(0,o.bF)(k,{justify:"center",class:"mb-6"},{default:(0,o.k6)((()=>[(0,o.bF)(h,{cols:"12"},{default:(0,o.k6)((()=>[(0,o.Lk)("h2",i,(0,r.v_)(e.$t("Kết quả tìm kiếm cho"))+' "'+(0,r.v_)(e.$route.query.keyword)+'" ',1),(0,o.bF)(p,{class:"my-4"})])),_:1})])),_:1}),(0,o.bF)(k,{justify:"center"},{default:(0,o.k6)((()=>[g.loading?((0,o.uX)(),(0,o.Wv)(h,{key:0,cols:"12",class:"text-center"},{default:(0,o.k6)((()=>[(0,o.bF)(y,{indeterminate:"",color:"primary",size:"50"})])),_:1})):((0,o.uX)(),(0,o.Wv)(h,{key:1,cols:"12"},{default:(0,o.k6)((()=>[0===g.movies.length?((0,o.uX)(),(0,o.Wv)(b,{key:0,class:"text-center"},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.$t("Không tìm thấy phim nào với từ khóa"))+' "',1),(0,o.Lk)("strong",null,(0,r.v_)(e.$route.query.keyword),1),t[2]||(t[2]=(0,o.eW)('". ')),t[3]||(t[3]=(0,o.Lk)("br",null,null,-1)),(0,o.bF)(_,{to:"/home"},{default:(0,o.k6)((()=>[(0,o.bF)(f,{variant:"outlined",class:"mt-2"},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.$t("Về trang chủ")),1)])),_:1})])),_:1})])),_:1})):(0,o.Q3)("",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.movies,(a=>((0,o.uX)(),(0,o.Wv)(_,{key:a.id,to:{name:"MovieDetail",params:{slug:a.slug}},class:"text-decoration-none"},{default:(0,o.k6)((()=>[(0,o.bF)(W,{class:"mb-5 overflow-hidden movie-card",elevation:"4",hover:""},{default:(0,o.k6)((()=>[(0,o.bF)(k,null,{default:(0,o.k6)((()=>[(0,o.bF)(h,{cols:"12",md:"4"},{default:(0,o.k6)((()=>[(0,o.bF)(F,{src:v.getOptimizedImage(a.poster_url),alt:a.name,"spect-ratio":"16/9",class:"movie-image",transition:"fade-transition",cover:""},null,8,["src","alt"])])),_:2},1024),(0,o.bF)(h,{cols:"12",md:"8",class:"pa-4"},{default:(0,o.k6)((()=>[(0,o.Lk)("h3",l,(0,r.v_)(a.name),1),(0,o.Lk)("div",s,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.category,((e,t)=>((0,o.uX)(),(0,o.Wv)($,{key:t,class:"ma-1",label:""},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.name),1)])),_:2},1024)))),128))]),(0,o.Lk)("div",n,[(0,o.bF)(w,{modelValue:g.valueRate,"onUpdate:modelValue":t[0]||(t[0]=e=>g.valueRate=e),"active-color":"orange",color:"orange-lighten-1"},null,8,["modelValue"]),(0,o.bF)(P,{size:"18",class:"me-1 text-grey"},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)("mdi-calendar")]))),_:1}),(0,o.Lk)("span",c,(0,r.v_)(a.year),1)]),(0,o.Lk)("p",d,(0,r.v_)(e.$t("Miêu tả"))+": "+(0,r.v_)(a.origin_name),1),(0,o.Lk)("div",u,[(0,o.bF)(f,{variant:"flat",color:"primary",class:"me-2","prepend-icon":"mdi-play-circle"},{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.$t("Xem ngay")),1)])),_:1}),(0,o.bF)(f,(0,o.v6)({ref_for:!0},e.props,{color:"secondary",variant:"outlined","prepend-icon":"mdi-share-variant"}),{default:(0,o.k6)((()=>[(0,o.eW)((0,r.v_)(e.$t("Chia sẻ")),1)])),_:1},16)])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["to"])))),128)),(0,o.bF)(M,{modelValue:g.currentPage,"onUpdate:modelValue":t[1]||(t[1]=e=>g.currentPage=e),length:Math.ceil(g.totalMovies/g.moviesPerPage),class:"my-4 justify-center"},null,8,["modelValue","length"])])),_:1}))])),_:1})])),_:1})}var g=a(1483),v={name:"SearchMovie",data(){return{movies:[],loading:!0,urlImage:g.l1,currentPage:1,moviesPerPage:20,totalMovies:100,valueRate:5,path:""}},watch:{"$route.query.keyword":{immediate:!0,handler(e){document.title=`${this.$t("Kết quả tìm kiếm: ")} ${e}`,this.loading=!0,this.path=e,this.SearchMovie(e)}},currentPage(e){this.loading=!0,this.currentPage=e,this.SearchMovie(this.path)}},methods:{SearchMovie(e){(0,g.vj)({keyword:e,page:this.currentPage},(e=>{"success"==e.status&&(0==e.data.items.length?(this.movies=[],this.loading=!1):(this.movies=e.data.items.sort(((e,t)=>parseInt(t.year)-parseInt(e.year))),e.data.seoOnPage&&this.updateMetaTags(e.data.seoOnPage),this.loading=!1)),console.log(e)}),(e=>{console.log(e)}))},getOptimizedImage(e){return`${this.urlImage+encodeURIComponent(e)}&w=384&q=100`},updateMetaTags(e){document.title=e.titleHead||"Phim hay";const t=(e,t="name")=>{const a=document.querySelectorAll(`meta[${t}="${e}"]`);a.forEach((e=>e.remove()))},a=(e,t,a="name")=>{if(!t)return;const o=document.createElement("meta");o.setAttribute(a,e),o.setAttribute("content",t),document.head.appendChild(o)};t("description"),t("og:title","property"),t("og:description","property"),t("og:type","property"),t("og:image","property"),a("description",e.descriptionHead),a("og:title",e.titleHead,"property"),a("og:description",e.descriptionHead,"property"),a("og:type",e.og_type||"website","property"),Array.isArray(e.og_image)&&e.og_image.forEach((e=>{a("og:image",e,"property")}))}}},p=a(1241);const h=(0,p.A)(v,[["render",m],["__scopeId","data-v-3a4e75ff"]]);var k=h}}]);
//# sourceMappingURL=680.6c09cffe.js.map